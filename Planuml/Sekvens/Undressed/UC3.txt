actor "User" as user

participant "Client" as client

database "Server" as server

participant "Microcontroller" as mc


frame UC3 [ADM]

user->>client : Scan RFID
activate client
client->>server : Card ID
activate server
server-->>client : User
deactivate server
client->>user : Option 
deactivate client

user->>client : Drink
activate client
client->>user : Which drink
deactivate client
user->>client : Select drink
activate client
alt Balance too low 
client->>client : Cancel
client->>user : Message too low balance
deactivate client

else 
activate client


client->server : Change balance 
deactivate client
activate server
server-->>client : Succesful
activate client
deactivate server
client->mc : Make drink
activate mc
deactivate client
mc ->> mc : Process drink

mc-->>client : Succesful
deactivate mc
activate client
end 


deactivate client